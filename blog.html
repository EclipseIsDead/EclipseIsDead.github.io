<!doctype html>
<html>
    <head>
        <title>Blog Posts</title>
        <link rel="icon" type="image/png" href="assets/favicon.png" />
        <link rel="stylesheet" href="assets/style.css" />
        <meta charset="utf-8" />
    </head>
    <body>
        <script>
            (async () => {
            // only appears after push to master
            const response = await fetch('https://api.github.com/repos/EclipseIsDead/EclipseIsDead.github.io/contents/blog?ref=master');
            const data = await response.json();
            // console.log(data);
            let htmlString = '<h1>Blog Posts:</h1><hr /><ul>';
            // look mom! no server!
            for (let file of data) {
                htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;
            }
            htmlString += '</ul>';
            // console.log(htmlString);
            document.getElementsByTagName('body')[0].innerHTML = htmlString;
            })();
        </script>
    <body>
</html>
